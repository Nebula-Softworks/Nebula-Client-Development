<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Style x:Key="ConsoleSelector"
           TargetType="RadioButton"
           BasedOn="{StaticResource {x:Type ToggleButton}}">
        <Setter Property="FontFamily"
                Value="/Celestia IDE;component/Assets/Fonts/#Poppins" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RadioButton}">
                    <Grid>
                        <Border x:Name="Indicator"
                                Width="0"
                                Height="2"
                                Margin="0,0,0,6"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Bottom"
                                Background="#d5d3d7"
                                CornerRadius="1.2"
                                Opacity="1">
                            <Border.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}"
                                                     Value="True">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation BeginTime="0:0:0.1"
                                                                         Storyboard.TargetProperty="Width"
                                                                         From="0"
                                                                         To="65"
                                                                         Duration="0:0:0.3">
                                                            <DoubleAnimation.EasingFunction>
                                                                <PowerEase EasingMode="EaseInOut" Power="4" />
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Width"
                                                                         From="65"
                                                                         To="0"
                                                                         Duration="0:0:0.3">
                                                            <DoubleAnimation.EasingFunction>
                                                                <PowerEase EasingMode="EaseInOut" />
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>

                                </Style>

                            </Border.Style>
                        </Border>

                        <Label Height="36"
                               Width="NaN"
                               Padding="0,0,0,0"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               HorizontalContentAlignment="Center"
                               VerticalContentAlignment="Center"
                               Background="{x:Null}"
                               BorderBrush="Transparent"
                               BorderThickness="0"
                               Content="{TemplateBinding Content}"
                               FontFamily="{TemplateBinding FontFamily}"
                               FontSize="{TemplateBinding FontSize}"
                               Foreground="#A4A6AA">
                            <Label.Style>
                                <Style TargetType="Label"
                                       BasedOn="{StaticResource {x:Type Label}}">
                                    <Setter Property="Foreground"
                                            Value="#A4A6AA" />
                                    <Style.Triggers>

                                        <!-- Checked: Foreground White -->
                                        <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}"
                                                     Value="True">
                                            <DataTrigger.EnterActions>
                                                <RemoveStoryboard BeginStoryboardName="HoverEnterStoryboard" />
                                                <BeginStoryboard x:Name="CheckedEnterStoryboard"
                                                                 HandoffBehavior="SnapshotAndReplace">
                                                    <Storyboard>

                                                        <ColorAnimation Storyboard.TargetProperty="(Label.Foreground).(SolidColorBrush.Color)"
                                                                        To="#d5d3d7"
                                                                        Duration="0:0:0.12" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <RemoveStoryboard BeginStoryboardName="CheckedEnterStoryboard" />
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>

                                        <!-- Hover & NOT Checked: Foreground White -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource TemplatedParent}}"
                                                           Value="True" />
                                                <Condition Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}"
                                                           Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard x:Name="HoverEnterStoryboard"
                                                                 HandoffBehavior="SnapshotAndReplace">
                                                    <Storyboard>
                                                        <ColorAnimation Storyboard.TargetProperty="(Label.Foreground).(SolidColorBrush.Color)"
                                                                        To="#d5d3d7"
                                                                        Duration="0:0:0.12" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <RemoveStoryboard BeginStoryboardName="HoverEnterStoryboard" />
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>

                                        <!-- Neither Hover nor Checked: Back to default -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IsMouseOver, RelativeSource={RelativeSource TemplatedParent}}"
                                                           Value="False" />
                                                <Condition Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}"
                                                           Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard x:Name="NormalEnterStoryboard"
                                                                 HandoffBehavior="SnapshotAndReplace">
                                                    <Storyboard>
                                                        <ColorAnimation Storyboard.TargetProperty="(Label.Foreground).(SolidColorBrush.Color)"
                                                                        To="#A4A6AA"
                                                                        Duration="0:0:0.12" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <RemoveStoryboard BeginStoryboardName="NormalEnterStoryboard" />
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Label.Style>
                        </Label>

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>