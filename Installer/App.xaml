<Application x:Class="Installer.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Classic"
             xmlns:local="clr-namespace:Installer"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Dark.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
                <ResourceDictionary Source="/Assets/Styles/Scroll Bars.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <ControlTemplate x:Key="CheckBoxControlTemplate1"
                             TargetType="{x:Type CheckBox}">
                <BulletDecorator Background="Transparent"
                                 SnapsToDevicePixels="True">
                    <BulletDecorator.Bullet>
                        <Themes:ClassicBorderDecorator x:Name="CheckMark"
                                                       Background="{TemplateBinding Background}"
                                                       BorderBrush="{TemplateBinding BorderBrush}"
                                                       BorderStyle="Sunken"
                                                       BorderThickness="{TemplateBinding BorderThickness}">
                            <Path x:Name="CheckMarkPath"
                                  Width="7"
                                  Height="7"
                                  Margin="1"
                                  Data="M0,2L0,4.8 2.5,7.4 7.1,2.8 7.1,0 2.5,4.6z"
                                  Fill="{TemplateBinding Foreground}"
                                  FlowDirection="LeftToRight" />
                        </Themes:ClassicBorderDecorator>
                    </BulletDecorator.Bullet>
                    <ContentPresenter Margin="{TemplateBinding Padding}"
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                      Content="{TemplateBinding Content}"
                                      ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                      RecognizesAccessKey="True"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </BulletDecorator>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsChecked" Value="False">
                        <Setter TargetName="CheckMarkPath" Property="Visibility" Value="Hidden" />
                    </Trigger>
                    <Trigger Property="IsChecked" Value="{x:Null}">
                        <Setter TargetName="CheckMark" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlLightLightBrushKey}}" />
                        <Setter TargetName="CheckMarkPath" Property="Fill" Value="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" />
                    </Trigger>
                    <Trigger Property="IsPressed" Value="True">
                        <Setter TargetName="CheckMark" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter TargetName="CheckMark" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
                        <Setter TargetName="CheckMarkPath" Property="Fill" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                    </Trigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding (0)}" Value="true" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="true" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Foreground" Value="{Binding Foreground, RelativeSource={RelativeSource FindAncestor, AncestorLevel=1, AncestorType={x:Type Control}}}" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding (0)}" Value="true" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="false" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Foreground">
                            <Setter.Value>
                                <DynamicResource>
                                    <DynamicResource.ResourceKey>
                                        <SolidColorBrush Color="#FFDFDEDF" />
                                    </DynamicResource.ResourceKey>
                                </DynamicResource>
                            </Setter.Value>
                        </Setter>
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="true" />
                            <Condition Binding="{Binding HasContent, RelativeSource={RelativeSource Self}}" Value="true" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="FocusVisualStyle">
                            <Setter.Value>
                                <Style>
                                    <Setter Property="Control.Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Rectangle Margin="13 0 0 0"
                                                           SnapsToDevicePixels="True"
                                                           Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
                                                           StrokeDashArray="1 2"
                                                           StrokeThickness="1" />
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Setter.Value>
                        </Setter>
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="true" />
                            <Condition Binding="{Binding HasContent, RelativeSource={RelativeSource Self}}" Value="false" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="FocusVisualStyle">
                            <Setter.Value>
                                <Style>
                                    <Setter Property="Control.Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Rectangle Margin="1"
                                                           SnapsToDevicePixels="True"
                                                           Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
                                                           StrokeDashArray="1 2"
                                                           StrokeThickness="1" />
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Setter.Value>
                        </Setter>
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding (0)}" Value="true" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="true" />
                            <Condition Binding="{Binding HasContent, RelativeSource={RelativeSource Self}}" Value="true" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="FocusVisualStyle">
                            <Setter.Value>
                                <Style>
                                    <Setter Property="Control.Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Rectangle Margin="13 0 1 1"
                                                               SnapsToDevicePixels="True"
                                                               Stroke="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"
                                                               StrokeThickness="1" />
                                                    <Rectangle Margin="13 0 1 1"
                                                               SnapsToDevicePixels="True"
                                                               Stroke="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}"
                                                               StrokeDashArray="2 2"
                                                               StrokeThickness="1" />
                                                </Grid>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Setter.Value>
                        </Setter>
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding (0)}" Value="false" />
                            <Condition Binding="{Binding (0)}" Value="true" />
                            <Condition Binding="{Binding IsEnabled, RelativeSource={RelativeSource Self}}" Value="true" />
                            <Condition Binding="{Binding HasContent, RelativeSource={RelativeSource Self}}" Value="false" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="FocusVisualStyle">
                            <Setter.Value>
                                <Style>
                                    <Setter Property="Control.Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Rectangle Margin="1 0 1 1"
                                                               SnapsToDevicePixels="True"
                                                               Stroke="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"
                                                               StrokeThickness="1" />
                                                    <Rectangle Margin="1 0 1 1"
                                                               SnapsToDevicePixels="True"
                                                               Stroke="{DynamicResource {x:Static SystemColors.WindowTextBrushKey}}"
                                                               StrokeDashArray="2 2"
                                                               StrokeThickness="1" />
                                                </Grid>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Setter.Value>
                        </Setter>
                    </MultiDataTrigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ResourceDictionary>
    </Application.Resources>
</Application>
